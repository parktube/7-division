{
  "name": "7-division",
  "version": "0.2.0",
  "description": "AI-Native CAD Engine",
  "type": "module",
  "scripts": {
    "setup": "rustup update && rustup target add wasm32-unknown-unknown && cargo install --git https://github.com/drager/wasm-pack.git --rev 24bdca457abad34e444912e6165eb71422a51046",
    "build:wasm": "wasm-pack build cad-engine --target nodejs",
    "build:wasm:release": "wasm-pack build cad-engine --target nodejs --release",
    "build": "pnpm -r build",
    "dev": "pnpm --filter @ai-native-cad/viewer dev",
    "test": "pnpm -r test",
    "test:wasm": "npm run build:wasm:release && node test-wasm.mjs",
    "test:rust": "cargo test --manifest-path cad-engine/Cargo.toml",
    "typecheck": "pnpm --filter @ai-native-cad/shared build && pnpm -r typecheck",
    "lint": "pnpm -r lint",
    "lint:rs": "cargo fmt --manifest-path cad-engine/Cargo.toml -- --check && cargo clippy --manifest-path cad-engine/Cargo.toml -- -D warnings",
    "prepare": "husky"
  },
  "engines": {
    "node": ">=22.0.0"
  },
  "pnpm": {
    "onlyBuiltDependencies": [
      "better-sqlite3",
      "puppeteer"
    ]
  },
  "devDependencies": {
    "husky": "^9.1.7",
    "lint-staged": "^15.2.11"
  },
  "lint-staged": {
    "cad-engine/**/*.rs": [
      "bash -c 'cargo fmt --manifest-path cad-engine/Cargo.toml -- --check && cargo clippy --manifest-path cad-engine/Cargo.toml -- -D warnings'"
    ],
    "apps/cad-mcp/src/**/*.ts": [
      "npx pnpm --filter @ai-native-cad/mcp lint --fix"
    ],
    "apps/viewer/src/**/*.{ts,tsx}": [
      "npx pnpm --filter @ai-native-cad/viewer lint --fix"
    ],
    "packages/shared/src/**/*.ts": [
      "npx pnpm --filter @ai-native-cad/shared lint --fix"
    ]
  }
}
