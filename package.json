{
  "name": "7-division",
  "version": "0.1.0",
  "description": "AI-Native CAD Engine",
  "type": "module",
  "scripts": {
    "setup": "rustup update && rustup target add wasm32-unknown-unknown && cargo install --git https://github.com/drager/wasm-pack.git --rev 24bdca457abad34e444912e6165eb71422a51046",
    "build": "wasm-pack build cad-engine --target nodejs",
    "build:release": "wasm-pack build cad-engine --target nodejs --release",
    "build:tools": "cd cad-tools && npm run build",
    "capture:screen": "node cad-tools/dist/cli.js run_cad_code --capture",
    "test": "cargo test --manifest-path cad-engine/Cargo.toml",
    "test:tools": "cd cad-tools && npm run test",
    "test:wasm": "npm run build:release && node test-wasm.mjs",
    "test:wasm:dev": "npm run build && node test-wasm.mjs",
    "test:all": "npm run test && npm run test:tools",
    "prepare": "husky",
    "lint:rs": "cargo fmt --manifest-path cad-engine/Cargo.toml -- --check && cargo clippy --manifest-path cad-engine/Cargo.toml -- -D warnings",
    "lint:ts": "cd cad-tools && npm run lint"
  },
  "engines": {
    "node": ">=22.0.0"
  },
  "devDependencies": {
    "husky": "^9.1.7",
    "lint-staged": "^15.2.11"
  },
  "lint-staged": {
    "cad-engine/**/*.rs": [
      "cargo fmt --manifest-path cad-engine/Cargo.toml --"
    ],
    "cad-tools/src/**/*.ts": [
      "npx --prefix cad-tools eslint --fix"
    ]
  }
}
