# ADR 0024: Module Library & Semantic Recommendation

**Status:** Proposed
**Date:** 2026-01-10
**Context:** Epic 11 MAMA Integration - Module Learning

---

## 1. ìš”ì•½

ì‚¬ìš©ìê°€ ë§Œë“  CAD ëª¨ë“ˆ(House, Tree, Cat ë“±)ì„ **ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ê´€ë¦¬**í•˜ê³ , MAMA ì„ë² ë”©ì„ í™œìš©í•˜ì—¬ **ì˜ë¯¸ì ìœ¼ë¡œ ì¶”ì²œ**í•˜ëŠ” ì‹œìŠ¤í…œì„ ì„¤ê³„í•©ë‹ˆë‹¤.

---

## 2. ë¬¸ì œ

í˜„ì¬ ëª¨ë“ˆ ì‹œìŠ¤í…œì˜ í•œê³„:
- ëª¨ë“ˆ ëª©ë¡ë§Œ ì œê³µ (`run_cad_code` â†’ files)
- ì–´ë–¤ ìƒí™©ì—ì„œ ì–´ë–¤ ëª¨ë“ˆì„ ì“¸ì§€ ê°€ì´ë“œ ì—†ìŒ
- ëª¨ë“ˆì´ ëŠ˜ì–´ë‚˜ë©´ ì°¾ê¸° ì–´ë ¤ì›€
- ì‚¬ìš© íŒ¨í„´ í•™ìŠµ ì—†ìŒ

---

## 3. í•´ê²°ì±…: MAMA ê¸°ë°˜ ëª¨ë“ˆ ë¼ì´ë¸ŒëŸ¬ë¦¬

### 3.1 ëª¨ë“ˆ ë©”íƒ€ë°ì´í„°

```javascript
/**
 * @module house_lib
 * @description ì§‘, ê±´ë¬¼ì„ ìƒì„±í•˜ëŠ” ëª¨ë“ˆ. ë²½, ì§€ë¶•, ë¬¸, ì°½ë¬¸ í¬í•¨.
 * @tags building, architecture, village
 * @example new House('h1', 0, 0).build()
 */
class House {
  // ...
}
```

### 3.2 MAMA ì €ì¥ êµ¬ì¡°

```javascript
{
  id: "module_house_lib",
  type: "module",
  name: "house_lib",
  description: "ì§‘, ê±´ë¬¼ì„ ìƒì„±í•˜ëŠ” ëª¨ë“ˆ. ë²½, ì§€ë¶•, ë¬¸, ì°½ë¬¸ í¬í•¨.",
  tags: ["building", "architecture", "village"],
  example: "new House('h1', 0, 0).build()",
  embedding: Float32Array,  // description ì„ë² ë”© (384-dim)
  usage_count: 15,
  last_used: "2026-01-10",
  co_used_with: ["tree_lib"]  // í•¨ê»˜ ì‚¬ìš©ëœ ëª¨ë“ˆ
}
```

### 3.3 ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜

```
Score = (semantic_similarity Ã— 0.6) + (usage_frequency Ã— 0.3) + (recency Ã— 0.1)
```

| ìš”ì†Œ | ê°€ì¤‘ì¹˜ | ì„¤ëª… |
|------|--------|------|
| semantic_similarity | 0.6 | ì¿¼ë¦¬ì™€ description ì„ë² ë”© ìœ ì‚¬ë„ |
| usage_frequency | 0.3 | ì‚¬ìš© íšŸìˆ˜ ì •ê·œí™” |
| recency | 0.1 | ìµœê·¼ ì‚¬ìš©ì¼ ê¸°ì¤€ |

---

## 4. ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ëª¨ë“ˆ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‹œìŠ¤í…œ                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  [ëª¨ë“ˆ ì €ì¥ ì‹œ]                                                  â”‚
â”‚  run_cad_code house_lib "class House {...}"                     â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ (JSDoc íŒŒì‹±)                         â”‚       â”‚
â”‚  â”‚ â†’ description, tags, example                        â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ MAMA ì„ë² ë”© ìƒì„± (multilingual-e5, 30ms)            â”‚       â”‚
â”‚  â”‚ â†’ embedding = embed(description)                    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ MAMA DB ì €ì¥ (SQLite)                               â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                 â”‚
â”‚  [ì¶”ì²œ ì‹œ] ~30ms                                                 â”‚
â”‚  User: "ë§ˆì„ì„ ë§Œë“¤ê³  ì‹¶ì–´"                                      â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ 1. embed("ë§ˆì„ì„ ë§Œë“¤ê³  ì‹¶ì–´") â†’ query_emb          â”‚       â”‚
â”‚  â”‚ 2. cosine_similarity(query_emb, all_modules)        â”‚       â”‚
â”‚  â”‚ 3. apply weights (semantic + usage + recency)       â”‚       â”‚
â”‚  â”‚ 4. return top N                                     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  ì¶”ì²œ: house_lib(0.87), tree_lib(0.72), cat_lib(0.23)          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. UI: LibraryPanel

ë·°ì–´ì— ìƒˆë¡œìš´ íŒ¨ë„ ì¶”ê°€:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“š Library              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”¥ ì¶”ì²œ (MAMA ê¸°ë°˜)      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ  house_lib   0.87 â”‚ â”‚ â† í´ë¦­: ì˜ˆì œ ë³µì‚¬
â”‚ â”‚ ğŸŒ² tree_lib    0.72 â”‚ â”‚ â† ë”ë¸”í´ë¦­: ì‹¤í–‰
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                         â”‚
â”‚ ğŸ“¦ ì „ì²´ ëª¨ë“ˆ             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ± cat_lib     â˜…3   â”‚ â”‚ â† â˜…: ì‚¬ìš© íšŸìˆ˜
â”‚ â”‚ ğŸ¤– robot_lib   â˜…1   â”‚ â”‚
â”‚ â”‚ ğŸ  house_lib   â˜…15  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                         â”‚
â”‚ ğŸ” [ê²€ìƒ‰...]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì¸í„°ë™ì…˜

| ë™ì‘ | ê²°ê³¼ |
|------|------|
| í˜¸ë²„ | ëª¨ë“ˆ ì„¤ëª… íˆ´íŒ |
| í´ë¦­ | ì˜ˆì œ ì½”ë“œ í´ë¦½ë³´ë“œ ë³µì‚¬ |
| ë”ë¸”í´ë¦­ | mainì— ì¶”ê°€ í›„ ì‹¤í–‰ |
| ë“œë˜ê·¸ | ìº”ë²„ìŠ¤ ë“œë¡­ â†’ í•´ë‹¹ ìœ„ì¹˜ì— ìƒì„± |

---

## 6. ë°ì´í„° íë¦„

```
[ì”¬ ë³€ê²½] â†’ [MAMA ì¿¼ë¦¬] â†’ [ì„ë² ë”© ìœ ì‚¬ë„] â†’ [UI ì—…ë°ì´íŠ¸]
   â”‚            â”‚              â”‚               â”‚
   â”‚            â”‚              â”‚               â””â”€ LibraryPanel ê°±ì‹ 
   â”‚            â”‚              â””â”€ ~30ms ì†Œìš”
   â”‚            â””â”€ POST /recommend-modules
   â””â”€ WebSocket ì´ë²¤íŠ¸
```

### íŠ¸ë¦¬ê±° ì‹œì 

| íŠ¸ë¦¬ê±° | ë™ì‘ | ì§€ì—° |
|--------|------|------|
| ë·°ì–´ ì‹œì‘ | ì „ì²´ ëª¨ë“ˆ ëª©ë¡ ë¡œë“œ | ì¦‰ì‹œ |
| ì”¬ ë³€ê²½ | ì¶”ì²œ ëª¨ë“ˆ ê°±ì‹  | 30ms |
| ì‚¬ìš©ì ê²€ìƒ‰ | ê²€ìƒ‰ì–´ í•„í„° + ì¶”ì²œ | 30ms |
| ëª¨ë“ˆ ì‚¬ìš© | usage_count++ | ì¦‰ì‹œ |

---

## 7. í•™ìŠµ ê¸°ëŠ¥

### 7.1 ì‚¬ìš© íŒ¨í„´ ê¸°ë¡

```javascript
// ëª¨ë“ˆ ì‚¬ìš© ì‹œ
function recordModuleUsage(moduleName, context) {
  mama.update({
    id: `module_${moduleName}`,
    usage_count: increment,
    last_used: now(),
    contexts: append(context)  // "ë§ˆì„ ë§Œë“¤ê¸°"
  });
}
```

### 7.2 Co-occurrence í•™ìŠµ

```javascript
// house_libì™€ tree_libê°€ ê°™ì€ ì„¸ì…˜ì—ì„œ ì‚¬ìš©ë¨
// â†’ co_used_with ì—…ë°ì´íŠ¸
// â†’ "ë§ˆì„" ê´€ë ¨ ì¿¼ë¦¬ ì‹œ ë‘ ëª¨ë“ˆ í•¨ê»˜ ì¶”ì²œ
```

---

## 8. êµ¬í˜„ ë‹¨ê³„

| ë‹¨ê³„ | ë‚´ìš© | ì˜ˆìƒ |
|------|------|------|
| 1 | ëª¨ë“ˆ ë©”íƒ€ë°ì´í„° íŒŒì‹± (JSDoc) | 0.5ì¼ |
| 2 | MAMA ëª¨ë“ˆ ì €ì¥ API | 0.5ì¼ |
| 3 | ì„ë² ë”© ê¸°ë°˜ ì¶”ì²œ API | 0.5ì¼ |
| 4 | LibraryPanel UI | 1ì¼ |
| 5 | ì‚¬ìš© íŒ¨í„´ í•™ìŠµ | 0.5ì¼ |

**ì´ ì˜ˆìƒ: 3ì¼**

---

## 9. ê¸°ì¡´ ì¸í”„ë¼ í™œìš©

| í•„ìš” ê¸°ëŠ¥ | ê¸°ì¡´ ì¸í”„ë¼ | ìƒíƒœ |
|----------|------------|------|
| ì„ë² ë”© ìƒì„± | MAMA multilingual-e5 | âœ… ìˆìŒ |
| Semantic Search | MAMA cosine similarity | âœ… ìˆìŒ |
| HTTP API | MAMA Server (port 3847) | âœ… ìˆìŒ |
| WebSocket | Viewer í†µì‹  | âœ… ìˆìŒ |
| ëª¨ë“ˆ ëª©ë¡ | run_cad_code | âœ… ìˆìŒ |

---

## 10. MAMA í›… í†µí•©

ëª¨ë“ˆ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” MAMA Decisionê³¼ ë™ì¼í•œ íŒ¨í„´ìœ¼ë¡œ í›…ì— í†µí•©ë©ë‹ˆë‹¤.

### 10.1 UserPromptSubmit í›… í™•ì¥

```javascript
// memory-inject.js í™•ì¥
async function injectDecisionContext(userMessage) {
  // 1. Decision ê²€ìƒ‰ (ê¸°ì¡´)
  const decisions = await vectorSearch('decisions', userMessage);

  // 2. Module ê²€ìƒ‰ (NEW!)
  const modules = await vectorSearch('modules', userMessage);

  // 3. í¬ë§·íŒ…
  return formatContext({ decisions, modules });
}
```

### 10.2 Context Injection í¬ë§·

```
ğŸ’¡ MAMA found 1 related decision:
   - cad:rect_center_based (0.82): rectëŠ” center-based ì¢Œí‘œ

ğŸ“¦ MAMA found 2 related modules:
   - house_lib (0.87): new House('h1', x, y).build()
   - tree_lib (0.72): new Tree('t1', x, y).build()
```

### 10.3 ë·°ì–´ ì—°ë™

MAMA ê²€ìƒ‰ ê²°ê³¼ë¥¼ WebSocketìœ¼ë¡œ ë·°ì–´ì— ì „ì†¡í•˜ì—¬ LibraryPanelì— ì‹¤ì‹œê°„ í‘œì‹œ:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“š Library              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” MAMA ì¶”ì²œ (ì‹¤ì‹œê°„)    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ  house_lib   0.87 â”‚ â”‚ â† ìœ ì‚¬ë„ ìˆœ ì •ë ¬
â”‚ â”‚ ğŸŒ² tree_lib    0.72 â”‚ â”‚
â”‚ â”‚ ğŸ± cat_lib     0.23 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 11. 2-Layer ì¶”ì²œ ì‹œìŠ¤í…œ

ì„ë² ë”©ë§Œìœ¼ë¡œ ë¶€ì¡±í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, LLMì´ ìµœì¢… ì¶”ì²œì„ ê²°ì •í•©ë‹ˆë‹¤.

### 11.1 ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 2-Layer ì¶”ì²œ ì‹œìŠ¤í…œ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  [Layer 1] ì„ë² ë”© ê²€ìƒ‰ (30ms) - í›„ë³´ í•„í„°ë§                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ MAMA: "ë§ˆì„" â†’ house(0.87), tree(0.72), cat(0.23)   â”‚       â”‚
â”‚  â”‚                                                      â”‚       â”‚
â”‚  â”‚ â†’ ë·°ì–´ LibraryPanelì— ìœ ì‚¬ë„ ìˆœìœ¼ë¡œ í‘œì‹œ             â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                        â”‚                                        â”‚
â”‚                        â–¼                                        â”‚
â”‚  [Layer 2] LLM ì¶”ì²œ (ì„ íƒì ) - ìµœì¢… ê²°ì •                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Claude: "ë§ˆì„ì—ëŠ” houseì™€ treeê°€ í•„ìˆ˜ì…ë‹ˆë‹¤.         â”‚       â”‚
â”‚  â”‚          ë¨¼ì € Houseë¡œ ê¸°ë³¸ êµ¬ì¡°ë¥¼ ë§Œë“¤ê³ ,            â”‚       â”‚
â”‚  â”‚          Treeë¡œ ìì—° ìš”ì†Œë¥¼ ì¶”ê°€í•˜ì„¸ìš”."             â”‚       â”‚
â”‚  â”‚                                                      â”‚       â”‚
â”‚  â”‚ ì¶”ì²œ: â­ house_lib (í•„ìˆ˜), â­ tree_lib (ê¶Œì¥)        â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 11.2 ì—­í•  ë¶„ë‹´

| Layer | ì—­í•  | ì†ë„ | ì •í™•ë„ |
|-------|------|------|--------|
| **ì„ë² ë”©** | í›„ë³´ í•„í„°ë§ (Top N) | 30ms | ì¤‘ê°„ |
| **LLM** | ìµœì¢… ì¶”ì²œ + ì´ìœ  ì„¤ëª… | - | ë†’ìŒ |

### 11.3 LLM ì¶”ì²œ íŠ¸ë¦¬ê±°

| íŠ¸ë¦¬ê±° | ë™ì‘ |
|--------|------|
| ì‚¬ìš©ì ì§ˆë¬¸ | "ì–´ë–¤ ëª¨ë“ˆì„ ì“°ë©´ ì¢‹ì„ê¹Œ?" |
| ëª¨í˜¸í•œ ìš”ì²­ | ì„ë² ë”© ê²°ê³¼ê°€ ë¹„ìŠ·í•œ ì ìˆ˜ì¼ ë•Œ |
| ë³µì¡í•œ ì›Œí¬í”Œë¡œìš° | ì—¬ëŸ¬ ëª¨ë“ˆ ì¡°í•©ì´ í•„ìš”í•  ë•Œ |

---

## 12. ê¸°ì¡´ ì¸í”„ë¼ ì¬ì‚¬ìš©

| í•„ìš” ê¸°ëŠ¥ | ê¸°ì¡´ ì¸í”„ë¼ | ì¬ì‚¬ìš©ë¥  |
|----------|------------|----------|
| ì„ë² ë”© ìƒì„± | MAMA embeddings.js | 100% |
| Vector Search | MAMA memory-store.js | 100% |
| í›… ì‹œìŠ¤í…œ | MAMA memory-inject.js | 90% (ëª¨ë“ˆ ê²€ìƒ‰ ì¶”ê°€) |
| HTTP API | MAMA Server (port 3847) | 100% |
| í¬ë§·íŒ… | decision-formatter.js | 80% (ëª¨ë“ˆ í¬ë§· ì¶”ê°€) |

**ì´ ì¬ì‚¬ìš©ë¥ : ~90%** - ëª¨ë“ˆ í…Œì´ë¸”ê³¼ ê²€ìƒ‰ ë¡œì§ë§Œ ì¶”ê°€

---

## 13. ê´€ë ¨ ë¬¸ì„œ

- [ADR 0023: LLM-Agnostic Agent Architecture](./0023-llm-agnostic-agent-architecture.md)
- [Story 9.2.8: Module Learning & Suggestion](../sprint-artifacts/9.2.8-module-learning.md)
