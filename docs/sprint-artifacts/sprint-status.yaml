# Sprint Status Tracking
# Generated by BMAD sprint-planning workflow
# Project: r2-7f-division (AI-Native CAD Phase 1)

generated: 2025-12-17
project: r2-7f-division
tracking_system: file-system
story_location: docs/sprint-artifacts

# Development Status
# Valid states: backlog → drafted → ready-for-dev → in-progress → review → done
development_status:
  # Epic 1: 기초 도형 생성 - AI가 기본 CAD 도구를 사용하여 도형을 만들 수 있다
  epic-1:
    status: done
    title: "기초 도형 생성"
    stories:
      1-1-wasm-project-init:
        status: done
        title: "WASM 프로젝트 초기화"
        priority: P0
        depends_on: []
      1-2-scene-class:
        status: done
        title: "Scene 데이터 구조"
        priority: P0
        depends_on: [1-1-wasm-project-init]
      1-3-line:
        status: done
        title: "Line 도구"
        priority: P0
        depends_on: [1-2-scene-class]
      1-4-circle:
        status: done
        title: "Circle 도구"
        priority: P0
        depends_on: [1-2-scene-class]
      1-5-rect:
        status: done
        title: "Rect 도구"
        priority: P0
        depends_on: [1-2-scene-class]
      1-6-arc:
        status: done
        title: "Arc 도형 생성"
        priority: P0
        depends_on: [1-2-scene-class]
      1-7-style-system:
        status: done
        title: "Style 데이터 구조 정의"
        priority: P0
        depends_on: [1-2-scene-class]
      1-8-styled-shape-creation:
        status: done
        title: "도형 생성 시 Style 적용"
        priority: P0
        depends_on: [1-7-style-system, 1-3-line, 1-4-circle, 1-5-rect, 1-6-arc]
      1-9-style-modification:
        status: done
        title: "스타일 수정 Action 함수"
        priority: P0
        depends_on: [1-7-style-system]

  # Epic 2: 결과 확인 - 사용자가 AI의 작업 결과를 실시간으로 확인할 수 있다
  epic-2:
    status: done
    title: "결과 확인"
    stories:
      2-1-json-export:
        status: done
        title: "JSON Export"
        priority: P0
        depends_on: [1-2-scene-class]
      2-2-canvas-2d-viewer:
        status: done
        title: "Canvas 2D Viewer"
        priority: P0
        depends_on: [2-1-json-export]  # scene.json 필요
      2-3-rendering:
        status: done
        title: "도형 렌더링"
        priority: P0
        depends_on: [2-1-json-export, 2-2-canvas-2d-viewer]

  # Epic 3: 도형 편집 - AI가 기존 도형을 수정하여 사용자 피드백에 대응할 수 있다
  epic-3:
    status: done
    title: "도형 편집"
    stories:
      3-0-tool-use-foundation:
        status: done
        title: "Tool Use Foundation"
        priority: P0
        depends_on: [1-2-scene-class, 2-1-json-export]
        description: "Claude가 CAD 도구를 직접 호출할 수 있는 에이전트 런타임 구축"
      3-0-a-scene-query-tools:
        status: done
        title: "Scene Query Tools"
        priority: P0
        depends_on: [3-0-tool-use-foundation]
        description: "LLM이 씬 상태를 조회할 수 있는 도구 (list_entities, get_entity, get_scene_info)"
      3-0-b-dynamic-tool-registry:
        status: done
        title: "Dynamic Tool Registry"
        priority: P0
        depends_on: [3-0-tool-use-foundation]
        description: "도메인별 도구 목록 조회 및 새 도구 요청 기능"
      3-0-c-angle-unit-support:
        status: done
        title: "Angle Unit Support"
        priority: P1
        depends_on: [3-0-tool-use-foundation]
        description: "degree 단위 각도 지원 (라디안 대신)"
      3-1-translate:
        status: done
        title: "Translate 도구"
        priority: P1
        depends_on: [1-2-scene-class, 1-3-line, 3-0-tool-use-foundation]
      3-2-rotate:
        status: done
        title: "Rotate 도구"
        priority: P1
        depends_on: [1-2-scene-class, 1-3-line, 3-0-tool-use-foundation]
      3-3-scale:
        status: done
        title: "Scale 도구"
        priority: P1
        depends_on: [1-2-scene-class, 1-3-line, 3-0-tool-use-foundation]
      3-4-delete:
        status: done
        title: "Delete 도구"
        priority: P1
        depends_on: [1-2-scene-class, 1-3-line, 3-0-tool-use-foundation]
      3-5-transform-rendering:
        status: done
        title: "Transform 렌더링"
        priority: P1
        depends_on: [2-3-rendering, 3-1-translate]
      3-6-svg-export:
        status: done
        title: "SVG Export"
        priority: P2
        depends_on: [2-3-rendering, 3-0-tool-use-foundation]
      3-7-cli-direct-integration:
        status: done
        title: "CLI Direct Integration"
        priority: P0
        depends_on: [3-0-tool-use-foundation]
        description: "Claude Code가 Bash로 CAD 도구를 직접 호출하는 CLI"
      3-8-ax-enhancements:
        status: done
        title: "AX Enhancements"
        priority: P1
        depends_on: [3-7-cli-direct-integration]
        description: "ActionHints, Domain Descriptions, Operation Log"

  # Epic 4: 그룹화 및 피봇 - 도형들을 그룹화하고 피봇을 설정하여 포즈를 변경할 수 있다
  epic-4:
    status: done
    title: "그룹화 및 피봇"
    stories:
      4-1-group-creation:
        status: done
        title: "Group 생성 기능"
        priority: P0
        depends_on: [1-2-scene-class]
        description: "여러 도형을 그룹으로 묶을 수 있다"
      4-2-group-ungroup:
        status: done
        title: "Group 해제 기능"
        priority: P0
        depends_on: [4-1-group-creation]
        description: "그룹을 해제하여 자식들을 독립 엔티티로 만들 수 있다"
      4-3-group-child-management:
        status: done
        title: "Group 자식 관리"
        priority: P0
        depends_on: [4-1-group-creation]
        description: "그룹에 자식을 추가하거나 제거할 수 있다"
      4-4-pivot-setting:
        status: done
        title: "Pivot 설정 기능"
        priority: P0
        depends_on: [4-1-group-creation]
        description: "도형/그룹의 회전 중심점을 설정할 수 있다"
      4-5-hierarchy-transform:
        status: done
        title: "계층적 변환 구현"
        priority: P0
        depends_on: [4-1-group-creation, 3-1-translate]
        description: "부모 그룹의 변환이 자식들에게 전파된다"
      4-6-group-rendering:
        status: done
        title: "그룹화된 도형 렌더링"
        priority: P0
        depends_on: [4-5-hierarchy-transform, 2-3-rendering]
        description: "그룹화된 도형들이 올바르게 렌더링된다"

  # Epic 5: Selection UI - 사용자가 클릭으로 도형을 선택하고 AI가 인식할 수 있다
  epic-5:
    status: done
    title: "Selection UI"
    stories:
      5-1-click-selection:
        status: done
        title: "도형 클릭 선택"
        priority: P0
        depends_on: [2-2-canvas-2d-viewer]
        description: "Canvas에서 도형을 클릭하여 선택할 수 있다"
      5-2-selection-highlight:
        status: done
        title: "선택 상태 시각적 표시"
        priority: P0
        depends_on: [5-1-click-selection]
        description: "선택된 도형이 시각적으로 구분된다"
      5-3-selection-info-to-ai:
        status: done
        title: "선택 정보 AI 전달"
        priority: P0
        depends_on: [5-1-click-selection]
        description: "사용자가 선택한 도형 정보를 AI가 받을 수 있다"

  # Epic 6: Electron 통합 - WASM CAD 엔진 + 뷰어 + Claude Code 사용 가이드
  epic-6:
    status: backlog
    title: "Electron 통합"
    stories:
      6-1-electron-project-setup:
        status: done
        title: "Electron 프로젝트 셋업"
        priority: P0
        depends_on: []
        description: "Electron + Vite 프로젝트 구성"
      6-2-wasm-engine-integration:
        status: done
        title: "scene.json 파일 감시"
        priority: P0
        depends_on: [6-1-electron-project-setup]
        description: "renderer가 scene.json을 폴링하여 상태를 갱신"
      6-3-viewer-port:
        status: done
        title: "Canvas 2D Viewer 이식"
        priority: P0
        depends_on: [6-2-wasm-engine-integration]
        description: "기존 viewer를 Electron Renderer에 이식"
      6-4-app-build:
        status: done
        title: "앱 빌드 및 패키징"
        priority: P0
        depends_on: [6-3-viewer-port]
        description: "Windows/Mac용 앱 빌드"
      6-5-claude-code-usage:
        status: done
        title: "Claude Code 사용 가이드"
        priority: P0
        depends_on: [6-4-app-build]
        description: "Claude Code로 CAD CLI를 사용하는 흐름 문서화"

# Sprint Planning Notes
notes:
  - "Phase 1 목표: 기초 도형(line, circle, rect, arc) + Style 시스템 + 검증 UI + 기본 편집"
  - "Phase 1 스코프 확장: Arc 도형 + Style(stroke/fill) + Action 함수 추가"
  - "설계 결정: Style은 Entity에 포함 (도면 출력용, 3D 확장 시 Material Reference로 발전)"
  - "Direct-First Architecture: MCP 없이 WASM 직접 호출"
  - "Canvas 2D → Three.js → wgpu 점진적 진화 전략"
  - "모든 스토리 상세 파일 생성 완료: 2025-12-17"
  - "스토리 재정렬: Arc를 Primitive 위치(1.6)로 이동, Style 시스템(1.7-1.9)은 후순위"
  - "2025-12-26: LLM 주체성 강화 스토리 추가 (3.0-a, 3.0-b, 3.0-c) - AX 원칙 기반"
  - "2025-12-29: CLI Direct Integration (3-7), AX Enhancements (3-8) 추가. Group System은 Phase 2로 이동"
  - "2025-12-30: MVP 범위 확장 - Epic 4 (Group & Pivot), Epic 5 (Selection UI), Epic 6 (Electron 앱) 추가"
  - "MVP 목표: 완전한 AI-Native CAD 경험 - 그룹화, 피봇, 선택, 독립 앱"
